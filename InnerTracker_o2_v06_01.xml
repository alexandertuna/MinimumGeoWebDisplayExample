<lccdd>
	<define>
		<constant name="InnerTracker_Barrel_radius_0" value="127*mm"/>
		<constant name="InnerTracker_Barrel_radius_1" value="340*mm"/>
		<constant name="InnerTracker_Barrel_radius_2" value="554*mm"/>
		<constant name="InnerTracker_Barrel_half_length_0" value="481.6*mm"/>
		<constant name="InnerTracker_Barrel_half_length_1" value="481.6*mm"/>
		<constant name="InnerTracker_Barrel_half_length_2" value="692.3*mm"/>
		<constant name="InnerTracker_Endcap_z_0" value="524*mm"/>
		<constant name="InnerTracker_Endcap_radius_0" value="95*mm"/>
		<constant name="ITM" value="15.1*mm"/>
	</define>

	<detectors>
		<detector name="InnerTrackers" type="DD4hep_SubdetectorAssembly" vis="ITVis">
			<comment>Inner Tracker Assembly</comment>
			<composite name="InnerTrackerBarrel"/>
			<composite name="InnerTrackerEndcap"/>
		</detector>
	</detectors>

	<display>
		<vis name="InnerTrackerModuleBarrelVis" alpha="0.5" r="0.0"   g="1.0"  b="0.6"  showDaughters="true" visible="true"/>
		<vis name="InnerTrackerEndcapVis"       alpha="0.5" r="0.0"   g="1.0"  b="0.6"  showDaughters="true" visible="true"/>
	</display>

	<readouts>
		<readout name="InnerTrackerBarrelCollection">
			<id>${GlobalTrackerReadoutID}</id>
		</readout>
		<readout name="InnerTrackerEndcapCollection">
			<id>${GlobalTrackerReadoutID}</id>
		</readout>
	</readouts>

	<detectors>

		<detector id="DetID_IT_Barrel" name="InnerTrackerBarrel" type="TrackerBarrel_o1_v05" readout="InnerTrackerBarrelCollection" region="InnerTrackerBarrelRegion">
			<envelope vis="ITVis">
				<shape type="Assembly"/>
			</envelope>

			<type_flags type="DetType_TRACKER + DetType_BARREL"/>

			<module name="InnerTrackerBarrelModule_01" vis="InnerTrackerModuleBarrelVis">
				<module_envelope width="30.1*mm" length="30.1*mm"/>
				<include ref="InnerTrackerBarrelModuleDown.xml"/>
			</module>

			<layer module="InnerTrackerBarrelModule_01" id="0" type="1" >
				<rphi_layout phi_tilt="0*deg" nphi="14*2" phi0="0" rc="InnerTracker_Barrel_radius_0" dr="2.5*mm"/>
				<z_layout dr="0" z0="InnerTracker_Barrel_half_length_0 - 15.05*mm" nz="32"/>
			</layer>
			<layer module="InnerTrackerBarrelModule_01" id="1" >
				<rphi_layout phi_tilt="0*deg" nphi="38*2" phi0="0" rc="InnerTracker_Barrel_radius_1" dr="2.5*mm"/>
				<z_layout dr="0" z0="InnerTracker_Barrel_half_length_1 - 15.05*mm" nz="32"/>
			</layer>
			<layer module="InnerTrackerBarrelModule_01" id="2" >
				<rphi_layout phi_tilt="0*deg" nphi="62*2" phi0="0" rc="InnerTracker_Barrel_radius_2" dr="2.5*mm"/>
				<z_layout dr="0" z0="InnerTracker_Barrel_half_length_2 - 15.05*mm" nz="46"/>
			</layer>
		</detector>


		<detector id="DetID_IT_Endcap" name="InnerTrackerEndcap" type="TrackerEndcap_o2_v06" readout="InnerTrackerEndcapCollection" reflect="true" region="InnerTrackerEndcapRegion">
			<envelope vis="ITVis">
				<shape type="Assembly"/>
			</envelope>

			<type_flags type="DetType_TRACKER + DetType_ENDCAP"/>

			<module name="InnerTrackerEndcapModule_2x2_Out" vis="InnerTrackerEndcapVis">
				<trd x="30.2*mm" y="30.2*mm"/>
				<include ref="TrackerDiskModuleOut.xml"/>
			</module>
			<module name="InnerTrackerEndcapModule_3x4_Out" vis="InnerTrackerEndcapVis">
				<trd x="45.3*mm" y="60.4*mm"/>
				<include ref="TrackerDiskModuleOut.xml"/>
			</module>
			<module name="InnerTrackerEndcapModule_5x8_Out" vis="InnerTrackerEndcapVis">
				<trd x="75.5*mm" y="120.8*mm"/>
				<include ref="TrackerDiskModuleOut.xml"/>
			</module>
			<module name="InnerTrackerEndcapModule_7x8_Out" vis="InnerTrackerEndcapVis">
				<trd x="105.7*mm" y="120.8*mm"/>
				<include ref="TrackerDiskModuleOut.xml"/>
			</module>

			<layer id="0">
				<ring r="InnerTracker_Endcap_radius_0"        zstart="InnerTracker_Endcap_z_0" nmodules="26" dz="3*mm" module="InnerTrackerEndcapModule_2x2_Out" phi0="0"/>
				<ring r="InnerTracker_Endcap_radius_0+2*ITM"  zstart="InnerTracker_Endcap_z_0" nmodules="26" dz="3*mm" module="InnerTrackerEndcapModule_3x4_Out" phi0="0"/>
				<ring r="InnerTracker_Endcap_radius_0+6*ITM"  zstart="InnerTracker_Endcap_z_0" nmodules="26" dz="3*mm" module="InnerTrackerEndcapModule_5x8_Out" phi0="0"/>
				<ring r="InnerTracker_Endcap_radius_0+14*ITM" zstart="InnerTracker_Endcap_z_0" nmodules="26" dz="3*mm" module="InnerTrackerEndcapModule_7x8_Out" phi0="0"/>
			</layer>

		</detector>

	</detectors>

	<plugins>
		<plugin name="DD4hep_GenericSurfaceInstallerPlugin">
			<argument value="InnerTrackerBarrel"/>
			<argument value="dimension=2"/>
			<argument value="u_x=1."/>
			<argument value="v_y=1."/>
			<argument value="n_z=1."/>
		</plugin>
		<plugin name="DD4hep_GenericSurfaceInstallerPlugin">
			<argument value="InnerTrackerEndcap"/>
			<argument value="dimension=2"/>
			<argument value="u_x=1."/>
			<argument value="v_y=1."/>
			<argument value="n_z=1."/>
		</plugin>
	</plugins>

</lccdd>
